<!DOCTYPE html>
<head>
  <title>
    map
  </title>
  <style>
    #map { 
      width: 100%; 
      height: 600px; 
    }
  </style>
</head>
<body>
  <script src="https://maps.googleapis.com/maps/api/js"></script> 
  <div id="map"></div>
  <script>
      // This example adds an animated symbol to a polyline.

      function initMap() {
          var map = new google.maps.Map(document.getElementById('map'), {
              center: {lat: 17.99123117704626, lng: 83.53792548179626},
              zoom: 13,
              mapTypeId: 'roadmap',
              streetViewControl: false,
              mapTypeControl: false,
              styles: [
          {
              "featureType": "all",
              "elementType": "geometry.stroke",
              "stylers": [
                  {
                      "color": "#2c2c55"
                  }
              ]
          },
          {
              "featureType": "administrative",
              "elementType": "geometry.stroke",
              "stylers": [
                  {
                      "color": "#2c2c55"
                  }
              ]
          },
          {
              "featureType": "administrative.province",
              "elementType": "geometry.stroke",
              "stylers": [
                  {
                      "color": "#2c2c55"
                  }
              ]
          },
          {
              "featureType": "administrative.locality",
              "elementType": "all",
              "stylers": [
                  {
                      "hue": "#2c2e33"
                  },
                  {
                      "saturation": 7
                  },
                  {
                      "lightness": 19
                  },
                  {
                      "visibility": "on"
                  }
              ]
          },
          {
              "featureType": "landscape",
              "elementType": "all",
              "stylers": [
                  {
                      "hue": "#ffffff"
                  },
                  {
                      "saturation": -100
                  },
                  {
                      "lightness": 100
                  },
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "poi",
              "elementType": "all",
              "stylers": [
                  {
                      "hue": "#ffffff"
                  },
                  {
                      "saturation": -100
                  },
                  {
                      "lightness": 100
                  },
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road",
              "elementType": "geometry",
              "stylers": [
                  {
                      "hue": "#bbc0c4"
                  },
                  {
                      "saturation": -93
                  },
                  {
                      "lightness": 31
                  },
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "road",
              "elementType": "geometry.stroke",
              "stylers": [
                  {
                      "color": "#2c2c55"
                  }
              ]
          },
          {
              "featureType": "road",
              "elementType": "labels",
              "stylers": [
                  {
                      "hue": "#008eff"
                  },
                  {
                      "saturation": -93
                  },
                  {
                      "lightness": 31
                  },
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road.arterial",
              "elementType": "labels",
              "stylers": [
                  {
                      "hue": "#bbc0c4"
                  },
                  {
                      "saturation": -93
                  },
                  {
                      "lightness": -2
                  },
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "road.local",
              "elementType": "geometry",
              "stylers": [
                  {
                      "hue": "#e9ebed"
                  },
                  {
                      "saturation": -90
                  },
                  {
                      "lightness": -8
                  },
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "transit",
              "elementType": "all",
              "stylers": [
                  {
                      "hue": "#e9ebed"
                  },
                  {
                      "saturation": 10
                  },
                  {
                      "lightness": 69
                  },
                  {
                      "visibility": "on"
                  }
              ]
          },
          {
              "featureType": "water",
              "elementType": "all",
              "stylers": [
                  {
                      "hue": "#e9ebed"
                  },
                  {
                      "saturation": -78
                  },
                  {
                      "lightness": 67
                  },
                  {
                      "visibility": "simplified"
                  }
              ]
          }
      ]
          });

          // Define the symbol, using one of the predefined paths ('CIRCLE')
          // supplied by the Google Maps JavaScript API.
          var lineSymbol = {
              path: google.maps.SymbolPath.CIRCLE,
              scale: 8,
              strokeColor: '#00becd'
          };	

          // Create the polyline and add the symbol to it via the 'icons' property.
          var line = new google.maps.Polyline({
              path: [
                        {lat: 18.03157092449297
              , lng: 83.50084360688925},
                        {lat: 18.01671090968909, lng: 83.51403001695871},
                        {lat: 18.014129591981035, lng: 83.5204803943634},
                        {lat: 18.00536953701645, lng: 83.53787284344435},
                        {lat: 17.99123117704626, lng: 83.53792548179626}

                      ],
              icons: [
                  {	icon: lineSymbol,	offset: '100%'}			
              ],
              map: map
          });
          animateCircle(line);
      }

      // Use the DOM setInterval() function to change the offset of the symbol
      // at fixed intervals.
      function animateCircle(line) {
          var count = 0;
          window.setInterval(function() {
              count = (count + 1) % 200;

              var icons = line.get('icons');
              icons[0].offset = (count / 2) + '%';
              line.set('icons', icons);		

              // Check if the circle has reached the final longitude and latitude
              if (count >= 200) {
                  // Add animation when the circle reaches the final longitude and latitude
                  var marker = new google.maps.Marker({
                      position: {lat: 17.99123117704626, lng: 83.53792548179626},
                      map: map,
                      animation: google.maps.Animation.BOUNCE
                  });
                  // Add a popup window with a message
                  var infowindow = new google.maps.InfoWindow({
                      content: 'Destination reached!'
                  });
                  infowindow.open(map, marker);
              }
          }, 100);
      }

      initMap();
  </script>
</body>
</html>
